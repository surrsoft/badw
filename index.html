<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>badw-project</title>
  </head>
  <body>
    <!-- https://github.com/jvilk/BrowserFS -->

    <script src="bundle.js"></script>
    <script>
      const { dbx } = require('/js/badw_dropbox_client.js')
      console.log('dbx', dbx)

      dbx
        .filesListFolder({ path: '/' })
        .then((response) => {
          console.log('!! response', response)
        })
        .catch((err) => {
          console.log('!! err', err)
        })

      //   BrowserFS.install(window)
      //   // создание файловой системы с помощью указанной конфигурации, и инициализация BrowserFS
      //   // ей. См. тип FileSystemConfigureation для большей информации о конфигурационном объекте
      //   // https://github.com/jvilk/BrowserFS/blob/a96aa2d417995dac7d376987839bc4e95e218e06/src/core/browserfs.ts#L84
      //   BrowserFS.configure(
      //     {
      //       // ^ type FileSystemConfiguration (see https://github.com/jvilk/BrowserFS/blob/73e4eca717/src/core/browserfs.ts#L116)
      //       fs: 'Dropbox',
      //       options: {
      //         client: null
      //       }
      //     },
      //     function (e) {
      //       if (e) {
      //         throw e
      //       }
      //       console.log('-i- BrowserFS is ready!')
      //     },
      //   )

      //   // ---
      //   const testFile = 'text.txt'
      //   var fs = BrowserFS.BFSRequire('fs')
      //   fs.writeFile(testFile, 'Cool, I can do this in the browser!', function (
      //     err,
      //   ) {
      //     fs.readFile(testFile, function (err, contents) {
      //       console.log('!! contents::', contents.toString())
      //     })
      //     if (err) {
      //       console.log('!! err', err)
      //     }
      //   })
    </script>

    <div>Hello</div>
  </body>
</html>
